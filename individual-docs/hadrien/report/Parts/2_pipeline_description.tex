\documentclass[10pt,a4paper,twoside,twocolumn]{article}
\input{../Annexes/ReportPackages.tex}

\newcommand*{\rootPath}{../}
\standalonetrue

\begin{document}

\section{Pipeline description}

In the following, we are focusing our study on non iterative pipelines. Thoses
pipeline are DAGs where errors are contained by the topology of the dependency
graph. Therefore, and unlike cyclic physical simulation, there is no temporal
dimension throughout which errors can spread.




\subsection{Density field evaluation pipeline}



\todo{rewrite}
The pipeline we will consider in this paper is a density estimation pipeline
\ref{fig:pipeline} computing a density field from a particles sampling. In real
applications of this pipeline, this sampling might be some data comming from the
acquisition of a real experiment or from simulation program such as the Hacc
cosmology simultation code\todo{ref}.

\begin{figure}[!ht]
	\centering
	\includegraphics[width=0.4\textwidth]{\rootPath Figures/model-pipeline.eps}
	\caption{Full pipeline}
	\label{fig:pipeline}
\end{figure}

\subsection{Particles generation}

\subsubsection{Syntetic particles}

In order for us to have a good idea of the expected results, we will use
syntetic particles generated by the sampling of an analytical distribution with
caracteristics close to thoses expected from the real application values. That
way we have analytical values helping us compared all our results to a known
ground truth.

This analytical distribution is a density profil produced by a sum of
Navarro-Frenk-White functions\cite{navarro96}. This density profile is further
caracterized in \todo{ref - Self-Adaptive Density Estimation of Particle Data}.

\begin{equation}
	\mathcal D(p) = \sum_{\{k_i, c_i\}} \frac{k_i}{\|p-c_i\|(\|p-c_i\|+1)^2}
\end{equation}

We will also use values produced by real application in order to confirm the
results comming from the synthetic particles.

\subsubsection{Astrophysical simulation particles}

\todo{write}

\subsection{Density estimation}

Density estimation aims at reconstructing the density function from a set of
samples. This is achieved by adding the contribution of all sample, each sample
representing a local density profile. The distribution of this local density
profile is caracteristed by a weighting function and by a domain, which
caracteristics have been extensivelly studied
\todo{ref}.

However, more accurate methods also tends to be more computationnaly expensive
and not so qualitative methods tends to be prefered in cases where intermediate
quality results are satisfactory and computation cost needs to be limited.

We therefore will consider different methods representing differents compromise
between results quality and computation cost.

\subsection{Density analysis}

In order to compare different density fields produced by the density estimation
methods, we need a metric caracterising the representative elements of those
density fields. This metric should differentiate values according to the
relevant elements in regard to their futher analysis in real application.

For this step, the use a power spectrum analysis which makes visible variation
responses for different caracteristic length, hence detecting bias such as high
frequency noise or over smoothness. In order to compare distances between those
spectral responces we use the following integral based metric :

\begin{equation}
	d(ps_1, ps_2) = \int_{\Delta f}\frac{\left\|\log\left(\frac{ps_1(f)}{ps_2(f)}
										\right)\right\|}{f^2}\, \mathrm df
	\label{eq:psd_metric}
\end{equation}

% By dividing by the frequency we ensured a constant contribution from all orders
% of magnitudes. This notably helps discriminate variation at low frequencies and
% therefore check total weight of the density field.

%=====================================================================
%=====================================================================
\ifstandalone
	\bibliographystyle{apalike}
	\bibliography{\rootPath Annexes/biblio}
\fi
%=====================================================================
%=====================================================================
\end{document}
