# 1/7/15

## Tom

- Meeting with Swann Pararnau about Argo - Decaf integration. Relevant parts of argo for decaf:
    - Info from system about architecture
        - availability and type of resources (nodes, network, storage)
        - to help automatically configure decaf
    - Execution model (3-level tree)
        - level 0: argo master
        - level 1: jobs (world communicator to us)
        - level 2: enclaves (producer, dataflow, consumer to us)
    - Communication model
        - Global information bus (GIB)
            - Beacon pub/sub service for fault notifications (Franck)
            - Expose service for performance monitoring
            - Other user communications services (Swann)
    - We need MPI to be one of the user communication services on the GIB

- Public docs
    - All uploaded and ready for PI meeting next week
        - poster
        - handout
        - talk
        - quad chart

- Hiring
    - Interviewed Matthieu Dreher
    - Extended an offer
    - Serving on his PhD committee

- Code
    - Working with Lokman on splitting / merging datatypes
    - Integrated python for top level interface (last time)
    - Need to finish one more feature for same-process put-get (ongoing)

- Upcoming
    - Tom will meet with Jay next week in Walnut Creek at the PI meeting
    - Next regular meeting 1/21/15

## Florin

- Clarisse implementation
- redesigned I/O stack
- implement collective I/O methods with these abstractions
- performance problem writing to aggregator nodes, due to static partition mismatch with GPFS lock domains
- implemented dynamic partitioning
- advantages of clarisse
    - abstractions enable new optiomizations, prgrammability
    - plans to use GIB information to optimize claris

## Lokman

- Will update HACC instructions
- See [slides](../../individual-docs/lokman/lokman-slides-010715.pdf) about data management layer
- Finish example, merging received data, and moving details from the example down into decaf, hiding from user
- Will eventually want to wrap EVPath datatypes in the same API
- Research: eventually look for better way to specify datatypes
    - C++ does not have introspection (not C++11 or C++14)
    - python has introspection, another reason to make the data definition layer in the python high-level interface

## Jay

- Hobbes design similar to Argo
- GIB is unified between Hobbes and Argo (on purpose)
- Dug up Fireworks and Tigres (LBNL workflow systems), will upload info soon
    - Fireworks URLs:  http://pythonhosted.org/FireWorks, https://github.com/materialsproject/fireworks
    - Tigres URL: http://tigres.lbl.gov/
- Data model permanency: Note that while an entire data model for a code may not change very often, codes can easily select subsets of variables to compute and output, and this changes for potentially every run. Hence, the data model even for a simulation can be quite dynamic, at least between runs.

## Patrick

- EVPath has some introspection capability, need to learn more how this is done
- Working on expanding EVPath example to a more realistic example
    - based on Hobbes application use cases
    - hope to use this example to do performance testing in Nessie/MPI stack
    - looking at python interface also, consensus that high-level interface should be python

## Hadrien

- Recap: analyzing different methods to detect soft errors
- Comparing methods, metrics for that comparison
- Working on injecting errors and see if we can detect them
     - working with Leo and Franck

----------------------------

# 1/21/15

## Tom

- PI Meeting wrapup
    - Decaf presentation well received by the community, no push back from competing technologies
    - Good discussion with Hassan Abbasi and Matt Wolf about using decaf under ADIOS, let ADIOS prvision resources while decaf builds dataflows for links
        - Consider syncing with ADIOS for some of the provisioning challenges we don't maybe want to cover, can be challenging
        - ADIOS also continuing to look at many-core, dedicated core and dedicated node, memory hierarchy, but not resilience
    - Plan to sync with Swift as a top layer workflow interface in addition to our python script
        - Challenge will be how to sync the runtime
    - Jay and I agreed that we need to develop use cases in greater detail
        - HACC (done)
        - LAMMPS (Tom)
        - GTC (Jay)
        - TDGL (Tom)
- Mathieu Dreher accepted our offer, defending thesis 2/25/15, I'm on his committee, will be starting at ANL 3/21/15

## Jay (via mail update)

- I filled in Patrick with what we had talked about. He has some Swift knowledge so getting a unified Swift top-end organization for the project should be pretty good. He has some concerns that it is very data centric (more big-data style applications), but we’ll see that we can get things to fit.

- I have the framework for the GTC fusion analytics written to read properly. I also finally got a copy of the correct output routines for the GTC application so that I can hook them together. Unless there is something major that I am missing, this integration is 90% done. I’ll get the data flows extracted and described as I get the linkage fixed up.

## Patrick

- Has some Swift former experience in image analysis
- Continuing to work on his example
- Continuing to identify application use cases
- GraphVis, uses dot language, hacking on that
    - There is a python module that will import a dot file
    - Will post an example that we can follow

## Lokman

- There is also a python library called NetworkX for specifying a graph
- Uploaded wiki page for HACC
- Continued progress on source code for splitting data models
- Beginning to write a document on state of the art how current dataflow tools describe data models

## Florin

- Claris resource management layer
    - Thread pool
    - Priority queues
    - Buffer pool
- Claris benchmarks
    - A few cases that still need improvement
- Topology-aware optimization
    - Talking with INRIA
    - Also talking with Venkat

## Hadrien

- Working on injecting and simulating errors
- Flipping various bit positions and varying total number of errors
- See document in Hadrien's wiki page
    - Figure 3 shows visual effect of injecting more bit flips
    - Figure 4 shows the effect on the power spectrum
    - Figure 5 shows when the error becomes high enough to be noticeable by an auxiliary method
- Conclusion: the HACC data in this pipeline is fairly robust, a large number of errors (10^4 - 10^5) becomes noticeable
    - Follow up with Leo and the differences between our power spectrum and Leo's
    - Tom will follow up with Nan about how the pipeline will be used in gravitional lensing
- Are there other pipelines that are more sensitive to errors?

## Upcoming

- Next meeting 2/4/15

----------------------------

# 2/4/15

## Tom

- Uploaded workflow examples for HACC and LAMMPS, see [workflows page](https://bitbucket.org/tpeterka1/decaf/wiki/common-docs/workflows/workflows.md)
- Met with Mike Wilde about Swift - decaf integration, will be an ongoing discussion, will ask Matthieu Dreher to work on this
- Thinking about how to launch applications inside of decaf

## Lokman

- working on reading papers to generate a state of the art for workflows and data management
- working on developing interfaces, for next time
- scheduled a skype with Lokman for next week to discuss code integration

## Florin

- coupled and decoupled versions of claris
- coupled verion good performance, good overlap of computation w/ storage compared to collective I/O
- flattening datatypes code in ROMIO not as efficient as dataloop code
- working on equivalent datatypes example in claris
- working on topology awareness in process placement w/ INRIA

## Hadrien

- see document in individual docs
- new metrics for comparing images based on data instead of power spectrum
- able now to inject bit flips into tess-based density estimator
- same detectable differences using new metrics and comparing estimators, ~10^4 bit flips

## Upcoming

- Next meeting 2/18/15

----------------------------

# 2/18/15

## Tom

- send FlowVR paper
- new workflow diagrams
- lammps example src

## Jay

- Hobbes hackathon last week
- got GTC working for that
- Understand better which operators we need, basically buffering
- LAMMPS example does crack detection, uses all of the data, no selection or pipelining either
- 2 interns coming for the summer, one working on the examples
- MPMD mode in mpi?

## Patrick

- DFG (datflow graph) examples in an easier syntax (dot syntax)
- example of 3 node graph in dfg-json (javascript object notation)
- networkx is a python library (so json is compatible with python)
- will look to add DFG to EVPath

## Lokman

- High level interfaces, see slides for today's meeting

## Hadrien

- noise inherent in density estimation methods requires a large number of bit flips before we can detect that something is working
- use a different fault model than bit flips? (eg., model a bug somehow?)
- ask a different questions: verification / validation of pipeline; are the answers within the expected range, rather than is there a bit flip?

## Upcoming

- Next meeting 3/11/14 (in 3 weeks time because of travel)

----------------------------
